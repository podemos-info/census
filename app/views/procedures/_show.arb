# frozen_string_literal: true

panel I18n.t("census.procedures.procedure") do
  attributes_table_for resource do
    row :created_at
    state_row :state
    if resource.processed?
      row :processed_by
      row :processed_at
      row(:comment) if resource.comment.present?
    end
  end
end

if resource.dependent_procedures.any?
  panel I18n.t("census.procedures.dependent_procedures") do
    table_for resource.dependent_procedures, i18n: Procedure do
      column :type, &:type_name
      column :summary
    end
  end
end
